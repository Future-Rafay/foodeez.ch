generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["views"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Business {
  id                 Int                          @id @default(autoincrement()) @map("BUSINESS_ID")
  createdAt          DateTime                     @map("CREATION_DATETIME") @db.DateTime(0)
  name               String?                      @map("BUSINESS_NAME") @db.VarChar(255)
  shortName          String?                      @map("SHORT_NAME") @db.VarChar(20)
  description        String?                      @map("DESCRIPTION") @db.VarChar(1000)
  addressStreet      String?                      @map("ADDRESS_STREET") @db.VarChar(100)
  addressZip         BigInt?                      @map("ADDRESS_ZIP")
  addressCityId      Int?                         @map("ADDRESS_CITY_ID")
  addressTown        String?                      @map("ADDRESS_TOWN") @db.VarChar(100)
  addressCountry     String?                      @map("ADDRESS_COUNTRY") @db.VarChar(100)
  phoneNumber        String?                      @map("PHONE_NUMBER") @db.VarChar(45)
  phoneNumberShort   String?                      @map("PHONE_NUMBER_SHORT") @db.VarChar(45)
  whatsappNumber     String?                      @map("WHATSAPP_NUMBER") @db.VarChar(45)
  webAddress         String?                      @map("WEB_ADDRESS") @db.VarChar(1000)
  logo               String?                      @map("LOGO") @db.VarChar(255)
  facebookLink       String?                      @map("FACEBOOK_LINK") @db.VarChar(1000)
  instaLink          String?                      @map("INSTA_LINK") @db.VarChar(1000)
  tiktokLink         String?                      @map("TIKTOK_LINK") @db.VarChar(1000)
  googleProfile      String?                      @map("GOOGLE_PROFILE") @db.VarChar(1000)
  imageUrl           String?                      @map("IMAGE_URL") @db.VarChar(1000)
  googleRating       String?                      @map("GOOGLE_RATING") @db.VarChar(10)
  whatsappLink       String?                      @map("WHATSAPP_LINK") @db.VarChar(255)
  approved           Int?                         @default(0) @map("APPROVED") @db.TinyInt
  status             Int?                         @default(0) @map("STATUS") @db.TinyInt
  businessCategories BusinessToBusinessCategory[]
  foodTypes          BusinessToFoodType[]
  foodMenus          FoodMenu[]
  foodeezRankings    FoodeezRanking[]
  menuCategories     MenuCategory[]
  ownerConnections   OwnerToBusiness[]

  @@map("business")
}

model BusinessToBusinessCategory {
  id                 Int               @id @default(autoincrement()) @map("BUSINESS_BUSINESS_CATEGORY_ID")
  createdAt          DateTime?         @map("CREATION_DATETIME") @db.DateTime(0)
  businessId         Int?              @map("BUSINESS_ID")
  businessCategoryId Int?              @map("BUSINESS_CATEGORY_ID")
  status             Int?              @map("STATUS") @db.TinyInt
  displaySeq         Int?              @map("DISPLAY_SEQ")
  category           BusinessCategory? @relation(fields: [businessCategoryId], references: [id])
  business           Business?         @relation(fields: [businessId], references: [id])

  @@index([businessId])
  @@index([businessCategoryId])
  @@map("business_2_business_category")
}

model BusinessToFoodType {
  id         Int       @id @default(autoincrement()) @map("BUSINESS_FOOD_TYPE_ID")
  createdAt  DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  businessId Int?      @map("BUSINESS_ID")
  foodTypeId BigInt?   @map("FOOD_TYPE_ID")
  business   Business? @relation(fields: [businessId], references: [id])
  foodType   FoodType? @relation(fields: [foodTypeId], references: [id])

  @@index([businessId])
  @@index([foodTypeId])
  @@map("business_2_food_type")
}

model BusinessCategory {
  id                 Int                          @id @default(autoincrement()) @map("BUSINESS_CATEGORY_ID")
  createdAt          DateTime?                    @map("CREATION_DATETIME") @db.DateTime(0)
  categoryName       String?                      @map("CATEGORY_NAME") @db.VarChar(100)
  businessCategories BusinessToBusinessCategory[]

  @@map("business_category")
}

model BusinessOwner {
  id             Int               @id @unique(map: "CUSTOMER_ID_UNIQUE") @default(autoincrement()) @map("BUSINESS_OWNER_ID")
  createdAt      DateTime          @map("CREATION_DATETIME") @db.DateTime(0)
  emailAddress   String            @unique(map: "EMAIL_ADDRESS_UNIQUE") @map("EMAIL_ADDRESS") @db.VarChar(255)
  password       String            @map("PASSWORD") @db.VarChar(45)
  firstName      String?           @map("FIRST_NAME") @db.VarChar(100)
  lastName       String?           @map("LAST_NAME") @db.VarChar(100)
  mobilePhone    String?           @map("MOBILE_PHONE") @db.VarChar(45)
  addressStreet  String?           @map("ADDRESS_STREET") @db.VarChar(100)
  addressNo      Int?              @map("ADDRESS_NO")
  addressZip     BigInt?           @map("ADDRESS_ZIP")
  addressTown    String?           @map("ADDRESS_TOWN") @db.VarChar(100)
  addressCountry String?           @map("ADDRESS_COUNTRY") @db.VarChar(100)
  pic            String?           @map("PIC") @db.VarChar(255)
  businesses     OwnerToBusiness[]

  @@map("business_owner")
}

model BusinessRating {
  id             BigInt    @id @map("BUSINESS_RATING_ID")
  createdAt      DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  businessId     BigInt?   @map("BUSINESS_ID")
  businessRating Int?      @map("BUSINESS_RATING")

  @@map("business_rating")
}

model BusinessReview {
  id           BigInt    @id @default(autoincrement()) @map("BUSINESS_REVIEWS_ID")
  createdAt    DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  reviewerName String?   @map("REVIEWER_NAME") @db.VarChar(255)
  rating       Int?      @map("RATING")
  review       String?   @map("REVIEW") @db.VarChar(1000)
  pic1         String?   @map("PIC_1") @db.VarChar(255)
  pic2         String?   @map("PIC_2") @db.VarChar(255)
  pic3         String?   @map("PIC_3") @db.VarChar(255)

  @@map("business_reviews")
}

model City {
  id        BigInt     @id @default(autoincrement()) @map("CITY_ID")
  createdAt DateTime?  @map("CREATION_DATETIME") @db.DateTime(0)
  cityCode  String?    @map("CITY_CODE") @db.VarChar(2)
  cityName  String?    @map("CITY_NAME") @db.VarChar(100)
  towns     CityTown[]

  @@map("city")
}

model CityTown {
  id        BigInt    @id @default(autoincrement()) @map("CITY_TWON_ID")
  createdAt DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  cityId    BigInt?   @map("CITY_ID")
  cityCode  String?   @map("CITY_CODE") @db.VarChar(2)
  zipcode   Int?      @map("ZIPCODE")
  town      String?   @map("TOWN") @db.VarChar(100)
  e         Float?    @map("E")
  h         Float?    @map("H")
  language  String?   @map("LANGUAGE") @db.Text
  city      City?     @relation(fields: [cityId], references: [id])

  @@index([cityId])
  @@map("city_town")
}

model FoodCategory {
  id          BigInt     @id @default(autoincrement()) @map("FOOD_CATEGORY_ID")
  createdAt   DateTime?  @map("CREATION_DATETIME") @db.DateTime(0)
  title       String?    @map("TITLE") @db.VarChar(45)
  description String?    @map("DESCRIPTION") @db.VarChar(255)
  foodMenus   FoodMenu[]

  @@map("food_category")
}

model FoodMenu {
  id             Int            @id @default(autoincrement()) @map("FOOD_MENU_ID")
  createdAt      DateTime?      @map("CREATION_DATETIME") @db.DateTime(0)
  businessId     Int?           @map("BUSINESS_ID")
  foodCategoryId BigInt?        @map("FOOD_CATEGORY_ID")
  title          String?        @map("TITLE") @db.VarChar(255)
  status         Int?           @map("STATUS") @db.TinyInt
  business       Business?      @relation(fields: [businessId], references: [id])
  foodCategory   FoodCategory?  @relation(fields: [foodCategoryId], references: [id])
  menuItems      FoodMenuItem[]

  @@index([businessId])
  @@index([foodCategoryId])
  @@map("food_menu")
}

model FoodMenuItem {
  id             BigInt        @id @map("FOOD_MENU_ITEMS_ID")
  createdAt      DateTime?     @map("CREATION_DATETIME") @db.DateTime(0)
  foodMenuId     Int?          @map("FOOD_MENU_ID")
  menuCategoryId Int?          @map("MENU_CATEGORY_ID")
  title          String?       @map("TITLE") @db.VarChar(100)
  description    String?       @map("DESCRIPTION") @db.VarChar(255)
  price          Float?        @map("PRICE") @db.Float
  currency       String?       @map("CURRENCY") @db.VarChar(45)
  pic1           String?       @map("PIC_1") @db.VarChar(255)
  pic2           String?       @map("PIC_2") @db.VarChar(255)
  pic3           String?       @map("PIC_3") @db.VarChar(255)
  approved       Int?          @map("APPROVED") @db.TinyInt
  display        Int?          @map("DISPLAY") @db.TinyInt
  foodMenu       FoodMenu?     @relation(fields: [foodMenuId], references: [id])
  menuCategory   MenuCategory? @relation(fields: [menuCategoryId], references: [id])

  @@index([foodMenuId])
  @@index([menuCategoryId])
  @@map("food_menu_items")
}

model FoodType {
  id            BigInt               @id @default(autoincrement()) @map("FOOD_TYPE_ID")
  createdAt     DateTime?            @map("CREATION_DATETIME") @db.DateTime(0)
  title         String?              @map("TITLE") @db.VarChar(45)
  description   String?              @map("DESCRIPTION") @db.VarChar(255)
  businessTypes BusinessToFoodType[]

  @@map("food_type")
}

model FoodeezRanking {
  id         Int       @id @default(autoincrement()) @map("FOODEEZ_RANKING")
  rankingCol String?   @map("foodeez_rankingcol") @db.VarChar(45)
  createdAt  DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  businessId Int?      @map("BUSINESS_ID")
  ranking    Int?      @default(1) @map("RANKING")
  business   Business? @relation(fields: [businessId], references: [id])

  @@index([businessId])
  @@map("foodeez_ranking")
}

model FoodeezSubscription {
  id           BigInt    @id @map("FOODEEZ_SUBSCRIPTION_ID")
  createdAt    DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  emailAddress String?   @map("EMAIL_ADDRESS") @db.VarChar(255)

  @@map("foodeez_subscription")
}

model MenuCategory {
  id         Int            @id @default(autoincrement()) @map("MENU_CATEGORY_ID")
  createdAt  DateTime?      @map("CREATION_DATETIME") @db.DateTime(0)
  businessId Int?           @map("BUSINESS_ID")
  title      String?        @map("TITLE") @db.VarChar(255)
  show       Int?           @default(1) @map("SHOW") @db.TinyInt
  displaySeq Int?           @map("DISPLAY_SEQ")
  menuItems  FoodMenuItem[]
  business   Business?      @relation(fields: [businessId], references: [id])

  @@index([businessId])
  @@map("menu_category")
}

model OwnerToBusiness {
  id              Int            @id @default(autoincrement()) @map("CUSTOMER_BUSINESS_ID")
  createdAt       DateTime?      @map("CREATION_DATETIME") @db.DateTime(0)
  businessOwnerId Int?           @map("BUSINESS_OWNER_ID")
  businessId      Int?           @map("BUSINESS_ID")
  status          Int?           @map("STATUS") @db.TinyInt
  business        Business?      @relation(fields: [businessId], references: [id])
  owner           BusinessOwner? @relation(fields: [businessOwnerId], references: [id])

  @@index([businessOwnerId])
  @@index([businessId])
  @@map("owner_2_business")
}

model VisitorsAccount {
  id           BigInt    @id @map("VISITORS_ACCOUNT_ID")
  createdAt    DateTime? @map("CREATION_DATETIME") @db.DateTime(0)
  emailAddress String?   @map("EMAIL_ADDRESS") @db.VarChar(255)
  password     String?   @map("PASSWORD") @db.VarChar(45)
  firstName    String?   @map("FIRST_NAME") @db.VarChar(45)
  lastName     String?   @map("LAST_NAME") @db.VarChar(45)
  language     String?   @map("LANGUAGE") @db.VarChar(45)
  pic          String?   @map("PIC") @db.VarChar(255)

  @@map("visitors_account")
}

view business_2_business_category_view {
  id                   Int     @id @default(autoincrement())
  BUSINESS_CATEGORY_ID Int     @default(0)
  CATEGORY_NAME        String? @db.VarChar(100)
  BUSINESS_ID          Int?
  STATUS               Int?    @db.TinyInt
  DISPLAY_SEQ          Int?

  @@map("business_2_business_category_view")
}

view business_category_view {
  id                   Int     @id @default(autoincrement())
  CNT                  BigInt  @default(0)
  Business_category_id Int     @default(0)
  Category_name        String? @db.VarChar(100)

  @@map("business_category_view")
}

view business_detail_view_all {
  BUSINESS_ID     Int     @id @default(autoincrement())
  BUSINESS_NAME   String? @db.VarChar(255)
  SHORT_NAME      String? @db.VarChar(20)
  DESCRIPTION     String? @db.VarChar(1000)
  ADDRESS_STREET  String? @db.VarChar(100)
  ADDRESS_ZIP     BigInt?
  ADDRESS_TOWN    String? @db.VarChar(100)
  ADDRESS_CITY_ID Int?
  CITY_CODE       String? @db.VarChar(2)
  CITY_NAME       String? @db.VarChar(100)
  ADDRESS_COUNTRY String? @db.VarChar(100)
  PHONE_NUMBER    String? @db.VarChar(45)
  WHATSAPP_NUMBER String? @db.VarChar(45)
  WEB_ADDRESS     String? @db.VarChar(1000)
  LOGO            String? @db.VarChar(255)
  FACEBOOK_LINK   String? @db.VarChar(1000)
  INSTA_LINK      String? @db.VarChar(1000)
  TIKTOK_LINK     String? @db.VarChar(1000)
  GOOGLE_PROFILE  String? @db.VarChar(1000)
  IMAGE_URL       String? @db.VarChar(1000)
  GOOGLE_RATING   String? @db.VarChar(10)
  APPROVED        Int?    @default(0) @db.TinyInt
  STATUS          Int?    @default(0) @db.TinyInt
  Ranking         BigInt  @default(0)

  @@map("business_detail_view_all")
}

view business_detail_view_halal {
  BUSINESS_ID          Int     @id @default(autoincrement())
  BUSINESS_NAME        String? @db.VarChar(255)
  SHORT_NAME           String? @db.VarChar(20)
  DESCRIPTION          String? @db.VarChar(1000)
  ADDRESS_STREET       String? @db.VarChar(100)
  ADDRESS_ZIP          BigInt?
  ADDRESS_TOWN         String? @db.VarChar(100)
  ADDRESS_CITY_ID      Int?
  CITY_CODE            String? @db.VarChar(2)
  CITY_NAME            String? @db.VarChar(100)
  ADDRESS_COUNTRY      String? @db.VarChar(100)
  PHONE_NUMBER         String? @db.VarChar(45)
  WHATSAPP_NUMBER      String? @db.VarChar(45)
  WEB_ADDRESS          String? @db.VarChar(1000)
  LOGO                 String? @db.VarChar(255)
  FACEBOOK_LINK        String? @db.VarChar(1000)
  INSTA_LINK           String? @db.VarChar(1000)
  TIKTOK_LINK          String? @db.VarChar(1000)
  GOOGLE_PROFILE       String? @db.VarChar(1000)
  IMAGE_URL            String? @db.VarChar(1000)
  GOOGLE_RATING        String? @db.VarChar(10)
  APPROVED             Int?    @default(0) @db.TinyInt
  STATUS               Int?    @default(0) @db.TinyInt
  IFNULL_d_Ranking__0_ BigInt  @default(0) @map("IFNULL(d.Ranking, 0)")

  @@map("business_detail_view_halal")
}

view business_detail_view_vegan {
  BUSINESS_ID          Int     @id @default(autoincrement())
  BUSINESS_NAME        String? @db.VarChar(255)
  SHORT_NAME           String? @db.VarChar(20)
  DESCRIPTION          String? @db.VarChar(1000)
  ADDRESS_STREET       String? @db.VarChar(100)
  ADDRESS_ZIP          BigInt?
  ADDRESS_TOWN         String? @db.VarChar(100)
  ADDRESS_CITY_ID      Int?
  CITY_CODE            String? @db.VarChar(2)
  CITY_NAME            String? @db.VarChar(100)
  ADDRESS_COUNTRY      String? @db.VarChar(100)
  PHONE_NUMBER         String? @db.VarChar(45)
  WHATSAPP_NUMBER      String? @db.VarChar(45)
  WEB_ADDRESS          String? @db.VarChar(1000)
  LOGO                 String? @db.VarChar(255)
  FACEBOOK_LINK        String? @db.VarChar(1000)
  INSTA_LINK           String? @db.VarChar(1000)
  TIKTOK_LINK          String? @db.VarChar(1000)
  GOOGLE_PROFILE       String? @db.VarChar(1000)
  IMAGE_URL            String? @db.VarChar(1000)
  GOOGLE_RATING        String? @db.VarChar(10)
  APPROVED             Int?    @default(0) @db.TinyInt
  STATUS               Int?    @default(0) @db.TinyInt
  IFNULL_d_Ranking__0_ BigInt  @default(0) @map("IFNULL(d.Ranking, 0)")

  @@map("business_detail_view_vegan")
}

view business_detail_view_vegetarian {
  BUSINESS_ID          Int     @id @default(autoincrement())
  BUSINESS_NAME        String? @db.VarChar(255)
  SHORT_NAME           String? @db.VarChar(20)
  DESCRIPTION          String? @db.VarChar(1000)
  ADDRESS_STREET       String? @db.VarChar(100)
  ADDRESS_ZIP          BigInt?
  ADDRESS_TOWN         String? @db.VarChar(100)
  ADDRESS_CITY_ID      Int?
  CITY_CODE            String? @db.VarChar(2)
  CITY_NAME            String? @db.VarChar(100)
  ADDRESS_COUNTRY      String? @db.VarChar(100)
  PHONE_NUMBER         String? @db.VarChar(45)
  WHATSAPP_NUMBER      String? @db.VarChar(45)
  WEB_ADDRESS          String? @db.VarChar(1000)
  LOGO                 String? @db.VarChar(255)
  FACEBOOK_LINK        String? @db.VarChar(1000)
  INSTA_LINK           String? @db.VarChar(1000)
  TIKTOK_LINK          String? @db.VarChar(1000)
  GOOGLE_PROFILE       String? @db.VarChar(1000)
  IMAGE_URL            String? @db.VarChar(1000)
  GOOGLE_RATING        String? @db.VarChar(10)
  APPROVED             Int?    @default(0) @db.TinyInt
  STATUS               Int?    @default(0) @db.TinyInt
  IFNULL_d_Ranking__0_ BigInt  @default(0) @map("IFNULL(d.Ranking, 0)")

  @@map("business_detail_view_vegetarian")
}
